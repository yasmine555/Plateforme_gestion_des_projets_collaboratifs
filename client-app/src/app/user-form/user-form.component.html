<div class="dashboard-container">
  <div class="content-wrapper">
    <header class="page-header">
      <h1 class="title">{{ UserForm }} un Utilisateur</h1>
    </header>

    <div class="card">
      <form (ngSubmit)="onSubmit()" [formGroup]="userForm" class="form-container">
        <div class="form-group">
          <label for="name" class="form-label">Nom</label>
          <div class="input-wrapper">
            <i class="fas fa-user input-icon"></i>
            <input 
              type="text" 
              id="name" 
              formControlName="name"
              class="form-input"
              [class.is-invalid]="userForm.get('name')?.invalid && userForm.get('name')?.touched"
              placeholder="Entrez le nom"
            >
          </div>
          <div class="error-message" *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched">
            Le nom est requis et doit contenir au moins 2 caracteres
          </div>
        </div>

        <div class="form-group">
          <label for="role" class="form-label">Role</label>
          <div class="select-wrapper">
            <i class="fas fa-users-cog input-icon"></i>
            <select 
              id="role" 
              formControlName="role"
              class="form-select"
            >
              <option value="ChefDeProjet">Chef De Projet</option>
              <option value="MembreEquipe">Membre d'Equipe</option>
            </select>
          </div>
        </div>

        <div class="form-actions">
          <button 
            type="submit" 
            class="btn-submit" 
            [disabled]="!userForm.valid || isLoading"
          >
            <i class="fas" [class.fa-save]="!isLoading" [class.fa-spinner]="isLoading" [class.fa-spin]="isLoading"></i>
            {{ userId ? 'Mettre a jour' : 'Enregistrer' }}
          </button>
          <button 
            type="button" 
            class="btn-cancel" 
            (click)="cancelEdit()"
          >
            <i class="fas fa-times"></i>
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
