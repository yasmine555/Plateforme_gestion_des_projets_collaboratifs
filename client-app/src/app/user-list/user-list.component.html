<div class="dashboard-container">
  <div class="content-wrapper">
    <header class="page-header">
      <h1 class="title">Gestion des Utilisateurs</h1>
      <div class="header-actions">
        <button class="btn-add" (click)="openAddUserModal()">
          <i class="fas fa-plus"></i> Nouvel Utilisateur
        </button>
      </div>
    </header>

    <div class="card">
      <form (ngSubmit)="onSubmit()" #userForm="ngForm" class="form-container">
        <div class="form-group">
          <label for="name" class="form-label">Nom</label>
          <div class="input-wrapper">
            <i class="fas fa-user input-icon"></i>
            <input 
              type="text" 
              id="name" 
              [(ngModel)]="user.name" 
              name="name" 
              required
              class="form-input"
              [class.is-invalid]="nameInput.invalid && nameInput.touched"
              #nameInput="ngModel"
              placeholder="Entrez le nom"
            >
          </div>
          <div class="error-message" *ngIf="nameInput.invalid && nameInput.touched">
            Le nom est requis
          </div>
        </div>

        <div class="form-group">
          <label for="role" class="form-label">Role</label>
          <div class="select-wrapper">
            <i class="fas fa-users-cog input-icon"></i>
            <select 
              id="role" 
              [(ngModel)]="user.role" 
              name="role" 
              required
              class="form-select"
            >
              <option value="ChefDeProjet">Chef De Projet</option>
              <option value="MembreEquipe">Membre d'Équipe</option>
            </select>
          </div>
        </div>

        <div class="form-actions">
          <button 
            type="submit" 
            class="btn-submit" 
            [disabled]="!userForm.valid"
          >
            <i class="fas fa-save"></i>
            {{ userId ? 'Mettre à jour' : 'Enregistrer' }}
          </button>
          <button 
            type="button" 
            class="btn-cancel" 
            (click)="cancelEdit()"
          >
            <i class="fas fa-times"></i>
            Annuler
          </button>
        </div>
      </form>
    </div>
  </div>
</div>